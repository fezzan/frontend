{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/talhafiaz/Projects/React/XOSportsFrontend/src/views/auth-views/components/RegisterForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, Alert } from \"antd\";\nimport { showAuthMessage, showLoading, hideAuthMessage, authenticated } from 'redux/actions/Auth';\nimport { useHistory } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport JwtAuthService from 'services/JwtAuthService';\nconst rules = {\n  email: [{\n    required: true,\n    message: 'Please input your email address'\n  }, {\n    type: 'email',\n    message: 'Please enter a validate email!'\n  }],\n  password: [{\n    required: true,\n    message: 'Please input your password'\n  }],\n  confirm: [{\n    required: true,\n    message: 'Please confirm your password!'\n  }, ({\n    getFieldValue\n  }) => ({\n    validator(rule, value) {\n      if (!value || getFieldValue('password') === value) {\n        return Promise.resolve();\n      }\n\n      return Promise.reject('Passwords do not match!');\n    }\n\n  })]\n};\nexport const RegisterForm = props => {\n  _s();\n\n  const {\n    showLoading,\n    token,\n    loading,\n    redirect,\n    message,\n    showMessage,\n    hideAuthMessage,\n    authenticated,\n    allowRedirect\n  } = props;\n  const [form] = Form.useForm();\n  let history = useHistory();\n\n  const onSignUp = () => {\n    form.validateFields().then(values => {\n      showLoading();\n      const fakeToken = 'fakeToken';\n      JwtAuthService.signUp(values).then(resp => {\n        authenticated(fakeToken);\n      }).then(e => {\n        showAuthMessage(e);\n      });\n    }).catch(info => {\n      console.log('Validate Failed:', info);\n    });\n  };\n\n  useEffect(() => {\n    if (token !== null && allowRedirect) {\n      history.push(redirect);\n    }\n\n    if (showMessage) {\n      setTimeout(() => {\n        hideAuthMessage();\n      }, 3000);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      initial: {\n        opacity: 0,\n        marginBottom: 0\n      },\n      animate: {\n        opacity: showMessage ? 1 : 0,\n        marginBottom: showMessage ? 20 : 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"error\",\n        showIcon: true,\n        message: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      form: form,\n      layout: \"vertical\",\n      name: \"register-form\",\n      onFinish: onSignUp,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"email\",\n        label: \"Email\",\n        rules: rules.email,\n        hasFeedback: true,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(MailOutlined, {\n            className: \"text-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        label: \"Password\",\n        rules: rules.password,\n        hasFeedback: true,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"text-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"confirm\",\n        label: \"ConfirmPassword\",\n        rules: rules.confirm,\n        hasFeedback: true,\n        children: /*#__PURE__*/_jsxDEV(Input.Password, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"text-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          htmlType: \"submit\",\n          block: true,\n          loading: loading,\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(RegisterForm, \"1EsU283CS6HOkfX05y6AWKw7ph4=\", false, function () {\n  return [Form.useForm, useHistory];\n});\n\n_c = RegisterForm;\n\nconst mapStateToProps = ({\n  auth\n}) => {\n  const {\n    loading,\n    message,\n    showMessage,\n    token,\n    redirect\n  } = auth;\n  return {\n    loading,\n    message,\n    showMessage,\n    token,\n    redirect\n  };\n};\n\nconst mapDispatchToProps = {\n  showAuthMessage,\n  hideAuthMessage,\n  showLoading,\n  authenticated\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"sources":["/Users/talhafiaz/Projects/React/XOSportsFrontend/src/views/auth-views/components/RegisterForm.js"],"names":["React","useEffect","connect","LockOutlined","MailOutlined","Button","Form","Input","Alert","showAuthMessage","showLoading","hideAuthMessage","authenticated","useHistory","motion","JwtAuthService","rules","email","required","message","type","password","confirm","getFieldValue","validator","rule","value","Promise","resolve","reject","RegisterForm","props","token","loading","redirect","showMessage","allowRedirect","form","useForm","history","onSignUp","validateFields","then","values","fakeToken","signUp","resp","e","catch","info","console","log","push","setTimeout","opacity","marginBottom","mapStateToProps","auth","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { LockOutlined, MailOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, Alert } from \"antd\";\nimport { showAuthMessage, showLoading, hideAuthMessage, authenticated } from 'redux/actions/Auth';\nimport { useHistory } from \"react-router-dom\";\nimport { motion } from \"framer-motion\"\nimport JwtAuthService from 'services/JwtAuthService'\n\nconst rules = {\n\temail: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please input your email address'\n\t\t},\n\t\t{ \n\t\t\ttype: 'email',\n\t\t\tmessage: 'Please enter a validate email!'\n\t\t}\n\t],\n\tpassword: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please input your password'\n\t\t}\n\t],\n\tconfirm: [\n\t\t{ \n\t\t\trequired: true,\n\t\t\tmessage: 'Please confirm your password!'\n\t\t},\n\t\t({ getFieldValue }) => ({\n\t\t\tvalidator(rule, value) {\n\t\t\t\tif (!value || getFieldValue('password') === value) {\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t}\n\t\t\t\treturn Promise.reject('Passwords do not match!');\n\t\t\t},\n\t\t})\n\t]\n}\n\nexport const RegisterForm = (props) => {\n\n\tconst { showLoading, token, loading, redirect, message, showMessage, hideAuthMessage, authenticated, allowRedirect } = props\n\tconst [form] = Form.useForm();\n\tlet history = useHistory();\n\n\tconst onSignUp = () => {\n    \tform.validateFields().then(values => {\n\t\t\tshowLoading()\n\t\t\tconst fakeToken = 'fakeToken'\n\t\t\tJwtAuthService.signUp(values).then(resp => {\n\t\t\t\tauthenticated(fakeToken)\n\t\t\t}).then(e => {\n\t\t\t\tshowAuthMessage(e)\n\t\t\t})\n\t\t}).catch(info => {\n\t\t\tconsole.log('Validate Failed:', info);\n\t\t});\n\t}\n\n\tuseEffect(() => {\n    \tif (token !== null && allowRedirect) {\n\t\t\thistory.push(redirect)\n\t\t}\n\t\tif(showMessage) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\thideAuthMessage();\n\t\t\t}, 3000);\n\t\t}\n  });\n\t\n\treturn (\n\t\t<>\n\t\t\t<motion.div \n\t\t\t\tinitial={{ opacity: 0, marginBottom: 0 }} \n\t\t\t\tanimate={{ \n\t\t\t\t\topacity: showMessage ? 1 : 0,\n\t\t\t\t\tmarginBottom: showMessage ? 20 : 0 \n\t\t\t\t}}> \n\t\t\t\t<Alert type=\"error\" showIcon message={message}></Alert>\n\t\t\t</motion.div>\n\t\t\t<Form form={form} layout=\"vertical\" name=\"register-form\" onFinish={onSignUp}>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"email\" \n\t\t\t\t\tlabel=\"Email\" \n\t\t\t\t\trules={rules.email}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input prefix={<MailOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"password\" \n\t\t\t\t\tlabel=\"Password\" \n\t\t\t\t\trules={rules.password}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item \n\t\t\t\t\tname=\"confirm\" \n\t\t\t\t\tlabel=\"ConfirmPassword\" \n\t\t\t\t\trules={rules.confirm}\n\t\t\t\t\thasFeedback\n\t\t\t\t>\n\t\t\t\t\t<Input.Password prefix={<LockOutlined className=\"text-primary\" />}/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" block loading={loading}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Button>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</>\n\t)\n}\n\nconst mapStateToProps = ({auth}) => {\n\tconst { loading, message, showMessage, token, redirect } = auth;\n  return { loading, message, showMessage, token, redirect }\n}\n\nconst mapDispatchToProps = {\n\tshowAuthMessage,\n\thideAuthMessage,\n\tshowLoading,\n\tauthenticated\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegisterForm)\n"]},"metadata":{},"sourceType":"module"}