{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/talhafiaz/Projects/React/Controrg/src/views/app-views/feed/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Table, Divider, Skeleton, Button, Tooltip, message } from \"antd\";\nimport { PlusCircleOutlined, ProfileOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport service from \"auth/FetchInterceptor\";\nimport { DELETE_FEED, GET_ALL_FEED } from \"configs/Endpoints\";\nimport { IMAGE_BASE_URL } from \"configs/AppConfig\";\n\nconst Feed = () => {\n  _s();\n\n  const columns = [{\n    title: \"Avatar\",\n    dataIndex: \"picture\",\n    key: \"picture\",\n    render: text => /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        objectFit: 'cover',\n        width: 50,\n        height: 50,\n        borderRadius: 100\n      },\n      src: `${IMAGE_BASE_URL + text}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 25\n    }, this)\n  }, {\n    title: \"Feed ID\",\n    dataIndex: \"id\",\n    key: \"id\"\n  }, {\n    title: \"Title\",\n    dataIndex: \"name\",\n    key: \"name\",\n    render: text => /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"/#\",\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 25\n    }, this)\n  }, {\n    title: \"Feed Description \",\n    dataIndex: \"description\",\n    key: \"description\",\n    render: text => {\n      console.log(text.length);\n\n      if (text.length < 40) {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          children: text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 18\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/#\",\n          children: text.slice(0, 45) + \"...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 18\n        }, this);\n      }\n    }\n  }, {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: {\n          pathname: \"feed/edit/\" + record.id,\n          dataProps: {\n            feeddetails: record\n          }\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        type: \"vertical\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        onClick: () => {\n          deleteFeed(record.id);\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)\n  }];\n  const [feedList, setFeedList] = useState([]);\n  const [loading, setloading] = useState(false);\n\n  const deleteFeed = id => {\n    setloading(true);\n    service.delete(DELETE_FEED + id, {}).then(res => {\n      if (res.message == \"Feed was deleted successfully!\") {\n        message.success(\"Successfully Deleted :) \");\n      } else {\n        message.error(\"Failed to delete \");\n      } //alert(response);\n\n\n      fetchData();\n      setloading(false);\n    }).catch(e => {\n      setloading(false);\n      message.error(\"Unable to load  ! Please check your internet or Server \");\n    });\n  };\n\n  const fetchData = () => {\n    setloading(true);\n    service.get(GET_ALL_FEED, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(response => {\n      setloading(false);\n      console.log(response);\n      setFeedList(response);\n    });\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: 500,\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 10\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(ProfileOutlined, {\n        style: {\n          fontSize: 80,\n          color: \"#1a3353\"\n        },\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontFamily: \"fantasy\",\n          fontSize: 60\n        },\n        children: \" NEW FEED \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"Add Feed\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"feed/add\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          icon: /*#__PURE__*/_jsxDEV(PlusCircleOutlined, {\n            style: {\n              fontSize: \"18px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 19\n          }, this),\n          children: \"Add Feed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: feedList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Feed, \"Xiz37YoPAoncaLhYMr0asaxR1+A=\");\n\n_c = Feed;\nexport default Feed;\n\nvar _c;\n\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"sources":["/Users/talhafiaz/Projects/React/Controrg/src/views/app-views/feed/index.js"],"names":["React","useState","useEffect","Table","Divider","Skeleton","Button","Tooltip","message","PlusCircleOutlined","ProfileOutlined","Link","service","DELETE_FEED","GET_ALL_FEED","IMAGE_BASE_URL","Feed","columns","title","dataIndex","key","render","text","objectFit","width","height","borderRadius","console","log","length","slice","record","pathname","id","dataProps","feeddetails","deleteFeed","feedList","setFeedList","loading","setloading","delete","then","res","success","error","fetchData","catch","e","get","method","headers","response","minHeight","display","justifyContent","alignItems","rows","flexDirection","fontSize","color","fontFamily"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Table, Divider, Skeleton, Button, Tooltip, message } from \"antd\";\nimport { PlusCircleOutlined,ProfileOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport service from \"auth/FetchInterceptor\";\nimport { DELETE_FEED, GET_ALL_FEED } from \"configs/Endpoints\";\nimport { IMAGE_BASE_URL } from \"configs/AppConfig\";\n\nconst Feed = () => {\n  const columns = [\n    {\n      title: \"Avatar\",\n      dataIndex: \"picture\",\n      key: \"picture\",\n      render: (text) => <img style={{objectFit:'cover', width:50, height:50,borderRadius:100 }}src={`${IMAGE_BASE_URL+text}`}/>,\n    },\n\n\n    {\n      title: \"Feed ID\",\n      dataIndex: \"id\",\n      key: \"id\",\n    },\n\n    {\n      title: \"Title\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (text) => <a href=\"/#\">{text}</a>,\n    },\n    {\n      title: \"Feed Description \",\n      dataIndex: \"description\",\n      key: \"description\",\n      render: (text) => {\n        console.log(text.length)\n        if (text.length < 40) {\n          return <a href=\"/#\">{text}</a>;\n        }else{\n          return <a href=\"/#\">{text.slice(0,45)+\"...\"}</a>;\n        }\n      },\n    },\n\n    {\n      title: \"Action\",\n      key: \"action\",\n      render: (text, record) => (\n        <span>\n          <Link\n            to={{\n              pathname: \"feed/edit/\" + record.id,\n              dataProps: { feeddetails: record },\n            }}\n          >\n            Edit\n          </Link>\n          <Divider type=\"vertical\" />\n          <Link\n            onClick={() => {\n              deleteFeed(record.id);\n            }}\n          >\n            Delete\n          </Link>\n        </span>\n      ),\n    },\n  ];\n  const [feedList, setFeedList] = useState([]);\n  const [loading, setloading] = useState(false);\n\n  const deleteFeed = (id) => {\n    setloading(true);\n\n    service\n      .delete(DELETE_FEED + id, {})\n      .then((res) => {\n        if (res.message == \"Feed was deleted successfully!\") {\n          message.success(\"Successfully Deleted :) \");\n        } else {\n          message.error(\"Failed to delete \");\n        }\n\n        //alert(response);\n        fetchData();\n        setloading(false);\n      })\n      .catch((e) => {\n        setloading(false);\n\n        message.error(\n          \"Unable to load  ! Please check your internet or Server \"\n        );\n      });\n  };\n  const fetchData = () => {\n    setloading(true);\n\n    service\n      .get(GET_ALL_FEED, {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      })\n\n      .then((response) => {\n        setloading(false);\n        console.log(response);\n        setFeedList(response);\n      });\n  };\n  useEffect(() => {\n    fetchData();\n  }, []);\n  if (loading)\n    return (\n      <div\n        style={{\n          minHeight: 500,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <Skeleton active paragraph={{ rows: 10 }} />\n      </div>\n    );\n  return (\n    <div>\n\n<span\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n        }}\n      >\n        <ProfileOutlined style={{ fontSize: 80,color:\"#1a3353\" }}> </ProfileOutlined>{\" \"}\n        <div>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n        </div>\n        <h1 style={{ fontFamily: \"fantasy\", fontSize: 60 }}> NEW FEED </h1>\n      </span>\n      <br></br>\n\n      <Tooltip title=\"Add Feed\">\n        <Link to=\"feed/add\">\n          <Button\n            type=\"primary\"\n            icon={<PlusCircleOutlined style={{ fontSize: \"18px\" }} />}\n          >\n            Add Feed\n          </Button>\n        </Link>\n      </Tooltip>\n      <br></br>\n      <br></br>\n      <Table columns={columns} dataSource={feedList} />\n    </div>\n  );\n};\n\nexport default Feed;\n"]},"metadata":{},"sourceType":"module"}